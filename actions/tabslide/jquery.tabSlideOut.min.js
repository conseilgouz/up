!function(e){e.fn.tabSlideOut=function(t){function n(e){return parseInt(e.outerHeight()+1,10)+"px"}function o(){var t=e(window).height();return"top"!==l&&"bottom"!==l||(t=e(window).width()),t-parseInt(a.otherOffset)-parseInt(a.offset)}var i=this;function s(){return i.hasClass("ui-slideouttab-open")}if("string"==typeof t)switch(t){case"open":return this.trigger("open"),this;case"close":return this.trigger("close"),this;case"isOpen":return s();case"toggle":return this.trigger("toggle"),this;case"bounce":return this.trigger("bounce"),this;default:throw"Invalid tabSlideOut command"}else{var a=e.extend({tabLocation:"left",tabHandle:".handle",action:"click",hoverTimeout:5e3,offset:"200px",offsetReverse:!1,otherOffset:null,handleOffset:null,handleOffsetReverse:!1,bounceDistance:"50px",bounceTimes:4,bounceSpeed:300,tabImage:null,tabImageHeight:null,tabImageWidth:null,onLoadSlideOut:!1,clickScreenToClose:!0,clickScreenToCloseFilters:[".ui-slideouttab-panel"],onOpen:function(){},onClose:function(){},onSlide:function(){},onBeforeOpen:function(){return!0},onBeforeClose:function(){return!0},onBeforeSlide:function(){return!0}},t||{}),l=a.tabLocation,r=a.tabHandle=e(a.tabHandle,i);if(i.addClass("ui-slideouttab-panel").addClass("ui-slideouttab-"+l),a.offsetReverse&&i.addClass("ui-slideouttab-panel-reverse"),r.addClass("ui-slideouttab-handle"),a.handleOffsetReverse&&r.addClass("ui-slideouttab-handle-reverse"),a.toggleButton=e(a.toggleButton),null!==a.tabImage){var u=0,f=0;if(null!==a.tabImageHeight&&null!==a.tabImageWidth)u=a.tabImageHeight,f=a.tabImageWidth;else{var c=new Image;c.src=a.tabImage,u=c.naturalHeight,f=c.naturalWidth}r.addClass("ui-slideouttab-handle-image"),r.css({background:"url("+a.tabImage+") no-repeat",width:f,height:u})}"top"===l||"bottom"===l?(a.panelOffsetFrom=a.offsetReverse?"right":"left",a.handleOffsetFrom=a.handleOffsetReverse?"right":"left"):(a.panelOffsetFrom=a.offsetReverse?"bottom":"top",a.handleOffsetFrom=a.handleOffsetReverse?"bottom":"top"),null===a.handleOffset&&(a.handleOffset="-"+function(e,t){return parseInt(e.css("border-"+t+"-width"),10)}(i,a.handleOffsetFrom)+"px"),"top"===l||"bottom"===l?(i.css(a.panelOffsetFrom,a.offset),r.css(a.handleOffsetFrom,a.handleOffset),null!==a.otherOffset&&(i.css("width",o()+"px"),e(window).resize(function(){i.css("width",o()+"px")})),"top"===l?r.css({bottom:"-"+n(r)}):r.css({top:"-"+n(r)})):(i.css(a.panelOffsetFrom,a.offset),r.css(a.handleOffsetFrom,a.handleOffset),null!==a.otherOffset&&(i.css("height",o()+"px"),e(window).resize(function(){i.css("height",o()+"px")})),"left"===l?r.css({right:"0"}):r.css({left:"0"})),r.click(function(e){e.preventDefault()}),a.toggleButton.click(function(e){e.preventDefault()}),i.addClass("ui-slideouttab-ready");var d=function(){a.onBeforeSlide()&&a.onBeforeClose()&&(i.removeClass("ui-slideouttab-open").trigger("slideouttabclose"),a.onSlide(),a.onClose())},h=function(){a.onBeforeSlide()&&a.onBeforeOpen()&&(i.addClass("ui-slideouttab-open").trigger("slideouttabopen"),a.onSlide(),a.onOpen())},g=function(){s()?d():h()},b=[];b[l]="-="+a.bounceDistance;var p=[];p[l]="+="+a.bounceDistance;if(a.clickScreenToClose&&e(document).click(function(t){if(s()&&!i[0].contains(t.target)){for(var n=e(t.target),o=0;o<a.clickScreenToCloseFilters.length;o++){var l=a.clickScreenToCloseFilters[o];if("string"==typeof l){if(n.is(l)||n.parents().is(l))return}else if("function"==typeof l&&l.call(i,t))return}d()}}),"click"===a.action)r.click(function(e){g()});else if("hover"===a.action){var m=null;i.hover(function(){s()||h(),m=null},function(){s()&&null===m&&(m=setTimeout(function(){m&&d(),m=null},a.hoverTimeout))}),r.click(function(e){s()&&d()})}a.onLoadSlideOut&&(h(),setTimeout(h,500)),i.on("open",function(e){s()||h()}),i.on("close",function(e){s()&&d()}),i.on("toggle",function(e){g()}),i.on("bounce",function(e){s()?function(){for(var e=i,t=0;t<a.bounceTimes;t++)e=e.animate(b,a.bounceSpeed).animate(p,a.bounceSpeed);i.trigger("slideouttabbounce")}():function(){for(var e=i,t=0;t<a.bounceTimes;t++)e=e.animate(p,a.bounceSpeed).animate(b,a.bounceSpeed);i.trigger("slideouttabbounce")}()})}return this}}(jQuery);